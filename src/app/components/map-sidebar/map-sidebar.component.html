<div class="map-sidebar" *ngIf="!addReport">

  <kendo-tabstrip>
    <kendo-tabstrip-tab [title]="'Recent Issues'" [selected]="true">
      <ng-template kendoTabContent>
        <kendo-panelbar>
            <kendo-panelbar-item [title]="'Issues'" expanded="true" selected="true">
                <ng-template kendoPanelBarContent>
                    <div>
                      <app-issue-list-item [issue]="issue" *ngFor="let issue of recentIssues | async"></app-issue-list-item>
                    </div>
                </ng-template>
            </kendo-panelbar-item>
        </kendo-panelbar>
      </ng-template>
    </kendo-tabstrip-tab>
    <kendo-tabstrip-tab [title]="'Top Issues'">
      <ng-template kendoTabContent>
        <kendo-panelbar>
            <kendo-panelbar-item [title]="'Issues'" expanded="true" selected="true">
                <ng-template kendoPanelBarContent>
                    <div>
                      <app-issue-list-item [issue]="issue" *ngFor="let issue of topIssues | async"></app-issue-list-item>
                    </div>
                </ng-template>
            </kendo-panelbar-item>
        </kendo-panelbar>
      </ng-template>
    </kendo-tabstrip-tab>
  </kendo-tabstrip>

  <!-- Add Report -->
  <button kendoButton class="map-sidebar-add" (click)="openDialog()" [icon]="'plus'"> Report an issue</button>
</div>

<div *ngIf="addReport">
  <app-issue-form></app-issue-form>
  <button kendoButton class="close-btn" (click)="closeDialog()"><span class="k-icon k-i-close"></span></button>
</div>

